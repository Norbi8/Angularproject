import{a as G}from"./chunk-QSKESES6.js";import{a as _}from"./chunk-JPHL6DS2.js";import{a as N,b as x,c as E,d as I,e as g,g as b,i as k,j as B,k as U,m as z,n as P,o as D,p as O,q as R,r as A,s as L,t as T,u as V}from"./chunk-E4DSPSZ6.js";import"./chunk-MNB4ZYY3.js";import"./chunk-BB7XAQ6R.js";import{h as j,k as h}from"./chunk-JQUAI2LU.js";import"./chunk-WXI33M2S.js";import{$a as n,Fa as C,Ga as c,Wa as w,X as F,Y as m,_a as a,aa as M,ab as d,db as f,dc as S,ga as y,ha as l,mb as s}from"./chunk-OZSVB7QB.js";import{f as u}from"./chunk-CQCHLVVT.js";var J=(()=>{let t=class t{constructor(e){this.afs=e,this.collectionName="Users"}create(e){return this.afs.collection(this.collectionName).doc(e.id).set(e)}};t.\u0275fac=function(i){return new(i||t)(M(P))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var q=(()=>{let t=class t{constructor(e,i,r){this.router=e,this.authService=i,this.userService=r,this.loginForm=new I({email:new g(""),password:new g("")}),this.loading=!0}login(){return u(this,null,function*(){let e=this.loginForm.get("email")?.value,i=this.loginForm.get("password")?.value;e&&i&&this.authService.login(e,i).then(r=>{this.router.navigateByUrl("/drink"),this.loading=!1}).catch(r=>{this.loading=!1})})}singUp(){return u(this,null,function*(){let e=this.loginForm.get("email")?.value,i=this.loginForm.get("password")?.value;e&&i&&this.authService.signup(e,i).then(r=>{console.log(r);let p={id:r.user?.uid,email:e};this.router.navigateByUrl("/drink"),this.loading=!1,this.userService.create(p).then(K=>{console.log("User added successfully.")}).catch(K=>{})}).catch(r=>{this.loading=!1})})}};t.\u0275fac=function(i){return new(i||t)(c(j),c(G),c(J))},t.\u0275cmp=y({type:t,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"main_component"],[3,"formGroup"],["for","email"],["matInput","","type","email","placeholder","example@gmail.com","minlength","6","formControlName","email"],["for","password"],["matInput","","type","password","minlength","6","placeholder","asd123","formControlName","password"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"form",1)(2,"h1"),s(3,"Bejelentkez\xE9s/Regisztr\xE1ci\xF3"),n(),a(4,"mat-form-field")(5,"mat-label",2),s(6,"Email: "),n(),d(7,"input",3),n(),a(8,"mat-form-field")(9,"mat-label",4),s(10,"Jelsz\xF3: "),n(),d(11,"input",5),n(),a(12,"span")(13,"span")(14,"button",6),f("click",function(){return r.login()}),s(15,"Bejelentkez\xE9s"),n()(),a(16,"span")(17,"button",6),f("click",function(){return r.singUp()}),s(18,"Regisztr\xE1ci\xF3"),n()()()()()),i&2&&(C(),w("formGroup",r.loginForm))},dependencies:[O,D,A,b,N,x,E,U,k,B,T],styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;height:100%}.main_component[_ngcontent-%COMP%]{height:100vh;align-items:center}span[_ngcontent-%COMP%]{padding:5px}mat-form-field[_ngcontent-%COMP%]{width:80%}"]});let o=t;return o})();var W=[{path:"",component:q}],H=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l({type:t}),t.\u0275inj=m({imports:[h.forChild(W),h]});let o=t;return o})();var Ft=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l({type:t}),t.\u0275inj=m({imports:[S,H,R,L,z,V,_]});let o=t;return o})();export{Ft as LoginModule};
