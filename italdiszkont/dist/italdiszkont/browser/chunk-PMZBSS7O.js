import{a as p,b as Y,c as K,d as b,e as X,f as Z,g as H,h as W,i as q,j as z,k as J,l as Q,m as ee,n as te,o as re,p as ne,q as j,r as ie,t as ae}from"./chunk-B746M63W.js";import{n as V}from"./chunk-E4DSPSZ6.js";import{d as B,e as C,f as M,g as A,k as O,l as $,m as k,o as G}from"./chunk-MNB4ZYY3.js";import{l as N,u as U}from"./chunk-BB7XAQ6R.js";import{a as x}from"./chunk-JQUAI2LU.js";import{Aa as D,C as F,Ma as L,Q as v,X as h,_ as u,aa as o,c as P,m as d,n as T,r as E}from"./chunk-OZSVB7QB.js";var l=class{constructor(e,r,n){this._delegate=e,this.task=r,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var f=class{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new l(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(n=>{if(e)return e(new l(n,this,this._ref))},r)}on(e,r,n,i){let s;return r&&(typeof r=="function"?s=a=>r(new l(a,this,this._ref)):s={next:r.next?a=>r.next(new l(a,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,s,n||void 0,i||void 0)}},m=class{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new c(e,this._service))}get items(){return this._delegate.items.map(e=>new c(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var c=class t{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let r=ie(this._delegate,e);return new t(r,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new f(z(this._delegate,e,r),this)}putString(e,r=b.RAW,n){this._throwIfRoot("putString");let i=X(r,e),s=Object.assign({},n);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new f(new q(this._delegate,new Z(i.data,!0),s),this)}listAll(){return te(this._delegate).then(e=>new m(e,this.storage))}list(e){return ee(this._delegate,e||void 0).then(r=>new m(r,this.storage))}getMetadata(){return J(this._delegate)}updateMetadata(e){return Q(this._delegate,e)}getDownloadURL(){return re(this._delegate)}delete(){return this._throwIfRoot("delete"),ne(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Y(e)}};var _=class{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(oe(e))throw p("ref() expected a child path but got a URL, use refFromURL instead.");return new c(j(this._delegate,e),this)}refFromURL(e){if(!oe(e))throw p("refFromURL() expected a full URL but got a child path, use ref() instead.");try{K.makeFromUrl(e,this._delegate.host)}catch{throw p("refFromUrl() expected a valid full URL but got an invalid one.")}return new c(j(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,n={}){ae(this._delegate,e,r,n)}};function oe(t){return/^[A-Za-z]+:\/\//.test(t)}var de="@firebase/storage-compat",ue="0.3.6";var ge="storage-compat";function he(t,{instanceIdentifier:e}){let r=t.getProvider("app-compat").getImmediate(),n=t.getProvider("storage").getImmediate({identifier:e});return new _(r,n)}function pe(t){let e={TaskState:W,TaskEvent:H,StringFormat:b,Storage:_,Reference:c};t.INTERNAL.registerComponent(new N(ge,he,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(de,ue)}pe(U);function me(t){return new P(e=>{let r=a=>e.next(a),n=a=>e.error(a),i=()=>e.complete();r(t.snapshot);let s=t.on("state_changed",r);return t.then(a=>{r(a),i()},a=>{r(t.snapshot),n(a)}),function(){s()}}).pipe(F(0))}function se(t){let e=me(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(E(r=>r.bytesTransferred/r.totalBytes*100))}}function w(t){return{getDownloadURL:()=>T(void 0).pipe(M,v(()=>t.getDownloadURL()),A),getMetadata:()=>T(void 0).pipe(M,v(()=>t.getMetadata()),A),delete:()=>d(t.delete()),child:e=>w(t.child(e)),updateMetadata:e=>d(t.updateMetadata(e)),put:(e,r)=>{let n=t.put(e,r);return se(n)},putString:(e,r,n)=>{let i=t.putString(e,r,n);return se(i)},list:e=>d(t.list(e)),listAll:()=>d(t.listAll())}}var _e=new u("angularfire2.storageBucket"),we=new u("angularfire2.storage.maxUploadRetryTime"),ye=new u("angularfire2.storage.maxOperationRetryTime"),Re=new u("angularfire2.storage.use-emulator"),ce=(()=>{class t{storage;constructor(r,n,i,s,a,Te,y,R,le,ve){let I=k(r,a,n);this.storage=G(`${I.name}.storage.${i}`,"AngularFireStorage",I.name,()=>{let g=a.runOutsideAngular(()=>I.storage(i||void 0)),S=le;return S&&g.useEmulator(...S),y&&g.setMaxUploadRetryTime(y),R&&g.setMaxOperationRetryTime(R),g},[y,R])}ref(r){return w(this.storage.ref(r))}refFromURL(r){return w(this.storage.refFromURL(r))}upload(r,n,i){let s=this.storage.ref(r);return w(s).put(n,i)}static \u0275fac=function(n){return new(n||t)(o(O),o($,8),o(_e,8),o(D),o(L),o(C),o(we,8),o(ye,8),o(Re,8),o(B,8))};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Je=(()=>{let e=class e{constructor(n,i,s){this.http=n,this.afs=i,this.storage=s,this.collectionName="italok"}getAll(n){return this.afs.collection(this.collectionName).valueChanges()}create(n){return this.afs.collection(this.collectionName).doc(n.id).set(n)}update(n){return this.afs.collection(this.collectionName).doc(n.id).set(n)}delete(n){return this.afs.collection(this.collectionName).doc(n).delete()}getDataById(n){return this.afs.collection(this.collectionName).doc(n).get()}searchProducts(n){return this.afs.collection("italok",i=>i.where("nev","==",n.toString())).valueChanges()}getItemsSortedByPriceDescending(){return this.afs.collection(this.collectionName,n=>n.orderBy("ar","desc")).valueChanges()}getItemsSortedByPriceAscending(){return this.afs.collection(this.collectionName,n=>n.orderBy("ar","asc")).valueChanges()}};e.\u0275fac=function(i){return new(i||e)(o(x),o(V),o(ce))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{ce as a,Je as b};
